"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[845],{8914:function(n,e,t){t.d(e,{f:function(){return f},i:function(){return d}});var r=t(3433),a=t(1413),o=t(5861),i=t(9439),s=t(4687),c=t.n(s),u=t(1735),p=t(2791),l=t(8174),d=function(n,e){var t=(0,p.useState)({}),r=(0,i.Z)(t,2),a=r[0],s=r[1],d=(0,p.useState)(u.UK.IDLE),f=(0,i.Z)(d,2),x=f[0],g=f[1];return(0,p.useEffect)((function(){var e=function(){var e=(0,o.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(u.UK.LOADING),e.prev=1,e.next=4,n();case 4:t=e.sent,s(t),g(u.UK.SUCCESS),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),l.Am.error(e.t0.message),g(u.UK.ERROR);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();e()}),[n,e]),{data:a,status:x}},f=function(n,e){var t=(0,p.useState)({}),s=(0,i.Z)(t,2),d=s[0],f=s[1],x=(0,p.useState)(u.UK.IDLE),g=(0,i.Z)(x,2),h=g[0],m=g[1];return(0,p.useEffect)((function(){var t=function(){var t=(0,o.Z)(c().mark((function t(){var o;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return m(u.UK.LOADING),t.prev=1,t.next=4,n();case 4:o=t.sent,f((function(n){return e?o:(0,a.Z)((0,a.Z)({},n),{},{results:[].concat((0,r.Z)(n.results),(0,r.Z)(o.results))})})),void 0!==o.results&&0!==o.results.length&&o.page,m(u.UK.SUCCESS),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),l.Am.error(t.t0.message),m(u.UK.ERROR);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(){return t.apply(this,arguments)}}();t()}),[n,e]),{data:d,status:h}}},9845:function(n,e,t){t.r(e),t.d(e,{default:function(){return S}});var r,a,o,i,s=t(5861),c=t(9439),u=t(4687),p=t.n(u),l=t(168),d=t(4934),f=d.Z.div(r||(r=(0,l.Z)(["\n  display: flex;\n  justify-content: space-between;\n  gap: 20px;\n  margin-bottom: 30px;\n  align-items: center;\n\n  & .title {\n    font-size: 22px;\n    margin-left: 10px;\n  }\n\n  & .buttons {\n    display: flex;\n    gap: 20px;\n  }\n"]))),x=t(1735),g=t(5402),h=d.Z.button(a||(a=(0,l.Z)(["\n  border: none;\n  background-color: rgba(0, 0, 0, 0);\n  padding: 4px 14px;\n  font-size: 16px;\n  color: #000000;\n  cursor: pointer;\n  display: block;\n  position: relative;\n  z-index: 3;\n  position: relative;\n  ",";\n\n  &:before {\n    content: '';\n    position: absolute;\n    z-index: -1;\n    left: 50%;\n    top: 0;\n    width: 100%;\n    max-width: 72px;\n    height: 100%;\n    border-radius: 100%;\n    transform: translateX(-50%);\n    background: linear-gradient(\n      90deg,\n      rgb(242, 255, 0) 0%,\n      "," 100%\n    );\n  }\n\n  &:hover:before {\n    box-shadow: -10px 0px 20px 5px ",",\n      10px 0px 20px 5px ",";\n  }\n\n  &.active {\n    font-weight: 600;\n  }\n\n  &.active:after {\n    content: '';\n    position: absolute;\n    z-index: -1;\n    left: 50%;\n    top: 4px;\n    width: 100%;\n    max-width: 72px;\n    height: 100%;\n    border-radius: 100%;\n    transform: translateX(-50%);\n    border-bottom: 2px solid ",";\n  }\n\n  &.icon {\n    display: block;\n    flex-basis: 50px;\n    width: 50px;\n    height: 50px;\n    padding: 0px;\n    border-radius: 30px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin-top: 30px;\n    font-size: 30px;\n\n    &:hover {\n      border-radius: 30px;\n    }\n  }\n\n  &:hover {\n    transform: scale(1.1);\n  }\n"])),(0,g.e)("transform","box-shadow","border-radius"),x.O9.color1,(function(n){return x.O9[n.color||"color1"]}),(function(n){return x.O9[n.color||"color2"]}),x.O9.color2),m=t(2791),v=t(184),b=function(n){var e=n.onChangeFilter,t=(0,m.useState)("week"),r=(0,c.Z)(t,2),a=r[0],o=r[1],i=function(n){o(n),e(n)};return(0,v.jsxs)(f,{children:[(0,v.jsx)("div",{className:"title",children:"Trending movies"}),(0,v.jsxs)("div",{className:"buttons",children:[(0,v.jsx)(h,{className:"week"===a&&"active",type:"button",onClick:function(){return i("week")},children:"By week"})," ",(0,v.jsx)(h,{className:"day"===a&&"active",type:"button",onClick:function(){return i("day")},children:"By day"})]})]})},w=d.Z.ul(o||(o=(0,l.Z)(["\n  display: flex;\n  gap: 20px;\n  flex-wrap: wrap;\n  margin-bottom: 70px;\n  width: 100%;\n"]))),y=t(1087),k=t(7689),Z=d.Z.li(i||(i=(0,l.Z)(["\n  flex-basis: calc((100% - 3 * 20px) / 4);\n  flex-grow: 0;\n  flex-shrink: 0;\n  overflow: hidden;\n  border-radius: 7px;\n  position: relative;\n  box-shadow: 0px 1px 5px -2px rgb(0 0 0 / 0.25);\n  background-color: rgb(255, 255, 255, 0.03);\n  cursor: pointer;\n  position: relative;\n  padding: 3px 3px 10px 3px;\n  overflow: hidden;\n  display: flex;\n  ","\n\n  @media screen and (max-width: 1500px) {\n    flex-basis: calc((100% - 20px * 2) / 3);\n  }\n\n  @media screen and (max-width: 1200px) {\n    flex-basis: calc((100% - 20px * 1) / 2);\n  }\n\n  @media screen and (max-width: 800px) {\n    flex-basis: 100%;\n  }\n\n  &:hover {\n    transform: scale(1.03);\n    box-shadow: 0px 0px 150px 5px ",",\n      0px 50px 80px 15px rgb(0, 0, 0, 1);\n    z-index: 3;\n\n    & .item {\n      color: rgb(255, 255, 255, 0.8) !important;\n    }\n  }\n\n  &::before {\n    content: '';\n    position: absolute;\n    z-index: 0;\n    left: -150%;\n    top: -50%;\n    width: 400%;\n    height: 200%;\n    background: conic-gradient(\n      rgb(255, 205, 29, 0.3),\n      rgb(255, 205, 29, 1),\n      rgb(255, 205, 29, 0.3),\n      rgb(255, 205, 29, 1),\n      rgb(255, 205, 29, 0.3)\n    );\n    transform-origin: center;\n    animation: animate 6s linear infinite;\n    opacity: 0;\n    ",";\n  }\n\n  &:hover::before {\n    opacity: 1;\n  }\n\n  @keyframes animate {\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n\n  & .container {\n    background-color: rgb(31, 30, 43);\n    border: none;\n    outline: none;\n    width: 100%;\n    height: 100%;\n    padding: 0;\n    cursor: pointer;\n    border-radius: 5px;\n    overflow: hidden;\n    position: relative;\n    z-index: 1;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n  }\n\n  & .image-wrapper {\n    overflow: hidden;\n    position: relative;\n\n    &::after {\n      content: '';\n      display: block;\n      padding-top: 135%;\n    }\n  }\n\n  & .image {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n  }\n\n  & img {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n\n  & .title {\n    font-size: 16px;\n    color: #ffffffc3;\n    padding: 12px 12px;\n    text-align: center;\n  }\n\n  &:hover .title {\n    color: ",";\n  }\n\n  & .stats {\n    display: flex;\n    gap: 10px;\n    justify-content: space-evenly;\n    padding: 22px 12px;\n    background-color: rgba(0, 0, 0, 0.286);\n\n    & .item {\n      text-align: center;\n      color: rgba(255, 255, 255, 0.861);\n      font-size: 14px;\n      font-weight: 400;\n      ",";\n\n      & b {\n        display: inline-block;\n        margin-bottom: 5px;\n        font-weight: 500;\n        display: block;\n        color: rgba(255, 255, 255, 0.5);\n      }\n    }\n  }\n"])),(0,g.e)("transform","box-shadow"),x.O9.color1,(0,g.e)("opacity"),x.O9.color2,(0,g.e)("color")),j=function(n){var e=n.movie,t=e.id,r=e.poster_path,a=e.title,o=e.vote_average,i=e.vote_count,s=e.popularity,c=(0,k.TH)();return(0,v.jsx)(Z,{children:(0,v.jsxs)(y.rU,{to:"movies/".concat(t),state:{from:c},className:"container",children:[(0,v.jsx)("div",{className:"image-wrapper",children:(0,v.jsx)("div",{className:"image",children:(0,v.jsx)("img",{src:"https://image.tmdb.org/t/p/w500".concat(r),alt:a})})}),(0,v.jsx)("div",{className:"title",children:a}),(0,v.jsxs)("div",{className:"stats",children:[(0,v.jsxs)("p",{className:"item",children:[(0,v.jsx)("b",{children:"Votes "}),i]}),(0,v.jsxs)("p",{className:"item",children:[(0,v.jsx)("b",{children:"Average"}),o]}),(0,v.jsxs)("p",{className:"item",children:[(0,v.jsx)("b",{children:"Popularity"}),s]})]})]})})},N=t(3425),_=t(8914),U=t(1449),S=function(){var n=(0,m.useState)(1),e=(0,c.Z)(n,2),t=e[0],r=e[1],a=(0,m.useState)("week"),o=(0,c.Z)(a,2),i=o[0],u=o[1],l=(0,m.useCallback)((0,s.Z)(p().mark((function n(){return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,U.rj)({page:t,filter:i});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)}))),[t,i]),d=(0,_.f)(l,1===t),f=d.data,g=d.status,h=f.results,y=f.totalPages,k=f.reachedEnd;return(0,v.jsxs)("div",{children:[(0,v.jsx)(b,{onChangeFilter:function(n){u(n)}}),void 0!==h&&0!==h.length&&(0,v.jsx)(w,{children:h.map((function(n,e){return(0,v.jsx)(j,{movie:n},e)}))}),g===x.UK.LOADING&&(0,v.jsx)(N.aN,{className:"pending"}),y>1&&!k&&g!==x.UK.LOADING&&(0,v.jsx)(N.zx,{type:"button",onClick:function(){r(t+1)},children:"Load more"})]})}},1449:function(n,e,t){t.d(e,{cK:function(){return c},IQ:function(){return l},FL:function(){return p},Jh:function(){return d},rj:function(){return u}});var r=t(5861),a=t(4687),o=t.n(a),i=t(1243),s=t(1735);i.Z.defaults.baseURL="https://api.themoviedb.org/3/",i.Z.defaults.params={api_key:s.by};var c=function(){var n=(0,r.Z)(o().mark((function n(e){var t,r,a,s,c,u,p,l;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.query,r=e.page,n.next=3,i.Z.get("search/movie",{params:{query:t,page:r}});case 3:return a=n.sent,s=a.data,c=s.results,u=s.total_pages,p=s.total_results,l=u===r,n.abrupt("return",{results:c,totalPages:u,total:p,reachedEnd:l,page:r});case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),u=function(){var n=(0,r.Z)(o().mark((function n(e){var t,r,a,s,c,u,p,l;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.page,r=e.filter,n.next=3,i.Z.get("trending/movie/".concat(r),{params:{page:t}});case 3:return a=n.sent,s=a.data,c=s.results,u=s.total_pages,p=s.total_results,l=u===t,n.abrupt("return",{results:c,totalPages:u,total:p,reachedEnd:l,page:t});case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),p=function(){var n=(0,r.Z)(o().mark((function n(e){var t,r,a;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.movieId,n.next=3,i.Z.get("movie/".concat(t),{params:{language:"en-US"}});case 3:return r=n.sent,a=r.data,n.abrupt("return",a);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),l=function(){var n=(0,r.Z)(o().mark((function n(e){var t,r,a;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.movieId,n.next=3,i.Z.get("movie/".concat(t,"/credits"),{params:{language:"en-US"}});case 3:return r=n.sent,a=r.data,n.abrupt("return",a);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),d=function(){var n=(0,r.Z)(o().mark((function n(e){var t,r,a,s,c,u,p,l;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.movieId,r=e.page,n.next=3,i.Z.get("movie/".concat(t,"/reviews"),{params:{language:"en-US",page:r}});case 3:return a=n.sent,s=a.data,c=s.results,u=s.total_pages,p=s.total_results,l=u===r,n.abrupt("return",{results:c,totalPages:u,total:p,reachedEnd:l,page:r});case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}}]);
//# sourceMappingURL=845.8d1c2eeb.chunk.js.map